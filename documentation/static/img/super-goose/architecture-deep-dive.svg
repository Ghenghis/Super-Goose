<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <defs>
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feComposite in="SourceGraphic" in2="blur" operator="over"/>
    </filter>
    <filter id="shadow" x="-5%" y="-5%" width="110%" height="120%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.4"/>
    </filter>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#0a0e14"/>
    </linearGradient>
    <linearGradient id="blueGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#00BFFF" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="#00BFFF" stop-opacity="0.08"/>
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#9966FF" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="#9966FF" stop-opacity="0.08"/>
    </linearGradient>
    <linearGradient id="orangeGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#FF9900" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="#FF9900" stop-opacity="0.08"/>
    </linearGradient>
    <linearGradient id="greenGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#00CC66" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="#00CC66" stop-opacity="0.08"/>
    </linearGradient>
    <linearGradient id="pinkGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#FF3366" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="#FF3366" stop-opacity="0.08"/>
    </linearGradient>
    <marker id="arrowGray" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#30363d"/>
    </marker>
    <marker id="arrowBlue" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#00BFFF" opacity="0.5"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="url(#bgGrad)"/>

  <!-- Subtle grid pattern -->
  <g opacity="0.03">
    <line x1="0" y1="0" x2="0" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="40" y1="0" x2="40" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="80" y1="0" x2="80" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="120" y1="0" x2="120" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="160" y1="0" x2="160" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="200" y1="0" x2="200" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="240" y1="0" x2="240" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="280" y1="0" x2="280" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="320" y1="0" x2="320" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="360" y1="0" x2="360" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="400" y1="0" x2="400" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="440" y1="0" x2="440" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="480" y1="0" x2="480" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="520" y1="0" x2="520" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="560" y1="0" x2="560" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="600" y1="0" x2="600" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="640" y1="0" x2="640" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="680" y1="0" x2="680" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="720" y1="0" x2="720" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="760" y1="0" x2="760" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="800" y1="0" x2="800" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="840" y1="0" x2="840" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="880" y1="0" x2="880" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="920" y1="0" x2="920" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="960" y1="0" x2="960" y2="800" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="40" x2="960" y2="40" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="80" x2="960" y2="80" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="120" x2="960" y2="120" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="160" x2="960" y2="160" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="200" x2="960" y2="200" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="240" x2="960" y2="240" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="280" x2="960" y2="280" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="320" x2="960" y2="320" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="360" x2="960" y2="360" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="400" x2="960" y2="400" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="440" x2="960" y2="440" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="480" x2="960" y2="480" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="520" x2="960" y2="520" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="560" x2="960" y2="560" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="600" x2="960" y2="600" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="640" x2="960" y2="640" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="680" x2="960" y2="680" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="720" x2="960" y2="720" stroke="#ffffff" stroke-width="0.5"/>
    <line x1="0" y1="760" x2="960" y2="760" stroke="#ffffff" stroke-width="0.5"/>
  </g>

  <!-- Title -->
  <text x="480" y="32" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="18" font-weight="700" text-anchor="middle" letter-spacing="2">SUPER-GOOSE ARCHITECTURE</text>
  <text x="480" y="48" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="10" text-anchor="middle" letter-spacing="3">INTERNAL SYSTEM DEEP DIVE</text>
  <line x1="320" y1="54" x2="640" y2="54" stroke="#30363d" stroke-width="1"/>

  <!-- ============================== -->
  <!-- LAYER 1: User Interface Layer  -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <!-- Layer background -->
    <rect x="30" y="64" width="910" height="80" rx="8" fill="url(#pinkGrad)" stroke="#FF3366" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="82" fill="#FF3366" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">USER INTERFACE LAYER</text>

    <!-- Voice Input -->
    <rect x="50" y="90" width="195" height="44" rx="6" fill="#161b22" stroke="#FF3366" stroke-width="1" stroke-opacity="0.6"/>
    <circle cx="68" cy="112" r="8" fill="#FF3366" opacity="0.2"/>
    <text x="68" y="116" fill="#FF3366" font-family="'Segoe UI', Arial, sans-serif" font-size="12" text-anchor="middle">&#x1F399;</text>
    <text x="84" y="108" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Voice Input</text>
    <text x="84" y="122" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Moshi 7B / Whisper</text>

    <!-- Text Input -->
    <rect x="260" y="90" width="195" height="44" rx="6" fill="#161b22" stroke="#FF3366" stroke-width="1" stroke-opacity="0.6"/>
    <rect x="275" y="102" width="16" height="12" rx="2" fill="none" stroke="#FF3366" stroke-width="1" opacity="0.5"/>
    <text x="275" y="112" fill="#FF3366" font-family="monospace" font-size="8">_</text>
    <text x="298" y="108" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Text Input</text>
    <text x="298" y="122" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">CLI / Desktop App</text>

    <!-- GooseBridge -->
    <rect x="470" y="90" width="195" height="44" rx="6" fill="#161b22" stroke="#FF3366" stroke-width="1" stroke-opacity="0.6"/>
    <path d="M488,106 L498,106 L498,118 L488,118 Z" fill="none" stroke="#FF3366" stroke-width="1" opacity="0.5"/>
    <path d="M490,112 L496,112" stroke="#FF3366" stroke-width="1" opacity="0.5"/>
    <text x="506" y="108" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">GooseBridge</text>
    <text x="506" y="122" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Protocol Adapter</text>

    <!-- Session State -->
    <rect x="680" y="90" width="150" height="44" rx="6" fill="#161b22" stroke="#FF3366" stroke-width="1" stroke-opacity="0.4"/>
    <text x="700" y="108" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="10" font-weight="600">Session State</text>
    <text x="700" y="122" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Context Manager</text>
  </g>

  <!-- Connection lines: UI to Orchestration -->
  <line x1="148" y1="134" x2="250" y2="160" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="358" y1="134" x2="390" y2="160" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="568" y1="134" x2="530" y2="160" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>

  <!-- ============================== -->
  <!-- LAYER 2: Orchestration Layer   -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="152" width="910" height="80" rx="8" fill="url(#blueGrad)" stroke="#00BFFF" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="170" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">ORCHESTRATION LAYER</text>

    <!-- Planner -->
    <rect x="50" y="178" width="240" height="44" rx="6" fill="#161b22" stroke="#00BFFF" stroke-width="1" stroke-opacity="0.6"/>
    <path d="M68,195 L78,200 L68,205 Z" fill="#00BFFF" opacity="0.4"/>
    <path d="M78,200 L88,195 L98,200 L88,205 Z" fill="#00BFFF" opacity="0.3"/>
    <text x="106" y="197" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Planner</text>
    <text x="106" y="211" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">LangGraph State Machine</text>

    <!-- Task Queue -->
    <rect x="310" y="178" width="210" height="44" rx="6" fill="#161b22" stroke="#00BFFF" stroke-width="1" stroke-opacity="0.6"/>
    <rect x="328" y="194" width="8" height="14" rx="1" fill="#00BFFF" opacity="0.2"/>
    <rect x="338" y="190" width="8" height="18" rx="1" fill="#00BFFF" opacity="0.3"/>
    <rect x="348" y="196" width="8" height="12" rx="1" fill="#00BFFF" opacity="0.2"/>
    <text x="364" y="197" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Task Queue</text>
    <text x="364" y="211" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Async Work Distribution</text>

    <!-- Priority Scheduler -->
    <rect x="540" y="178" width="240" height="44" rx="6" fill="#161b22" stroke="#00BFFF" stroke-width="1" stroke-opacity="0.6"/>
    <circle cx="564" cy="200" r="10" fill="none" stroke="#00BFFF" stroke-width="1" opacity="0.4"/>
    <path d="M564,192 L564,200 L570,200" fill="none" stroke="#00BFFF" stroke-width="1" opacity="0.5"/>
    <text x="582" y="197" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Priority Scheduler</text>
    <text x="582" y="211" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Resource-Aware Dispatch</text>

    <!-- Flow arrows within orchestration -->
    <path d="M290,200 L306,200" stroke="#00BFFF" stroke-width="1" opacity="0.4" marker-end="url(#arrowBlue)"/>
    <path d="M520,200 L536,200" stroke="#00BFFF" stroke-width="1" opacity="0.4" marker-end="url(#arrowBlue)"/>
  </g>

  <!-- Connection lines: Orchestration to Agents -->
  <line x1="170" y1="222" x2="170" y2="248" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="415" y1="222" x2="415" y2="248" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="660" y1="222" x2="660" y2="248" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>

  <!-- ============================== -->
  <!-- LAYER 3: Agent Layer (ALMAS)   -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="240" width="910" height="110" rx="8" fill="url(#blueGrad)" stroke="#00BFFF" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="258" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">AGENT LAYER  |  ALMAS MULTI-AGENT SYSTEM</text>

    <!-- Architect Agent -->
    <g>
      <rect x="50" y="268" width="152" height="70" rx="6" fill="#161b22" stroke="#00BFFF" stroke-width="1.2" stroke-opacity="0.7"/>
      <circle cx="80" cy="290" r="12" fill="#00BFFF" opacity="0.15" stroke="#00BFFF" stroke-width="0.5"/>
      <text x="80" y="294" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="11" text-anchor="middle" font-weight="700">A</text>
      <text x="98" y="290" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Architect</text>
      <text x="68" y="308" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">System Design</text>
      <text x="68" y="320" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">API Contracts</text>
    </g>

    <!-- Developer Agent -->
    <g>
      <rect x="220" y="268" width="152" height="70" rx="6" fill="#161b22" stroke="#00BFFF" stroke-width="1.2" stroke-opacity="0.7"/>
      <circle cx="250" cy="290" r="12" fill="#00BFFF" opacity="0.15" stroke="#00BFFF" stroke-width="0.5"/>
      <text x="250" y="294" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="11" text-anchor="middle" font-weight="700">D</text>
      <text x="268" y="290" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Developer</text>
      <text x="238" y="308" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Code Generation</text>
      <text x="238" y="320" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Refactoring</text>
    </g>

    <!-- QA Agent -->
    <g>
      <rect x="390" y="268" width="152" height="70" rx="6" fill="#161b22" stroke="#00CC66" stroke-width="1.2" stroke-opacity="0.7"/>
      <circle cx="420" cy="290" r="12" fill="#00CC66" opacity="0.15" stroke="#00CC66" stroke-width="0.5"/>
      <text x="420" y="294" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="11" text-anchor="middle" font-weight="700">Q</text>
      <text x="438" y="290" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">QA Engineer</text>
      <text x="408" y="308" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Test Generation</text>
      <text x="408" y="320" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Coverage Analysis</text>
    </g>

    <!-- Security Agent -->
    <g>
      <rect x="560" y="268" width="152" height="70" rx="6" fill="#161b22" stroke="#FF9900" stroke-width="1.2" stroke-opacity="0.7"/>
      <circle cx="590" cy="290" r="12" fill="#FF9900" opacity="0.15" stroke="#FF9900" stroke-width="0.5"/>
      <text x="590" y="294" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="11" text-anchor="middle" font-weight="700">S</text>
      <text x="608" y="290" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Security</text>
      <text x="578" y="308" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Vuln Scanning</text>
      <text x="578" y="320" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Policy Enforce</text>
    </g>

    <!-- Deployer Agent -->
    <g>
      <rect x="730" y="268" width="152" height="70" rx="6" fill="#161b22" stroke="#FF9900" stroke-width="1.2" stroke-opacity="0.7"/>
      <circle cx="760" cy="290" r="12" fill="#FF9900" opacity="0.15" stroke="#FF9900" stroke-width="0.5"/>
      <text x="760" y="294" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="11" text-anchor="middle" font-weight="700">D</text>
      <text x="778" y="290" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Deployer</text>
      <text x="748" y="308" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">CI/CD Pipeline</text>
      <text x="748" y="320" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Release Mgmt</text>
    </g>

    <!-- Agent interconnection lines -->
    <line x1="202" y1="303" x2="218" y2="303" stroke="#30363d" stroke-width="1" stroke-dasharray="3,3"/>
    <line x1="372" y1="303" x2="388" y2="303" stroke="#30363d" stroke-width="1" stroke-dasharray="3,3"/>
    <line x1="542" y1="303" x2="558" y2="303" stroke="#30363d" stroke-width="1" stroke-dasharray="3,3"/>
    <line x1="712" y1="303" x2="728" y2="303" stroke="#30363d" stroke-width="1" stroke-dasharray="3,3"/>
  </g>

  <!-- Connection lines: Agents to Execution -->
  <line x1="126" y1="338" x2="170" y2="368" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="296" y1="338" x2="330" y2="368" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="466" y1="338" x2="490" y2="368" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="636" y1="338" x2="630" y2="368" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="806" y1="338" x2="760" y2="368" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>

  <!-- ============================== -->
  <!-- LAYER 4: Execution Layer       -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="360" width="910" height="80" rx="8" fill="url(#orangeGrad)" stroke="#FF9900" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="378" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">EXECUTION LAYER</text>

    <!-- microsandbox MicroVMs -->
    <rect x="50" y="386" width="260" height="44" rx="6" fill="#161b22" stroke="#FF9900" stroke-width="1" stroke-opacity="0.6"/>
    <!-- VM icon -->
    <rect x="68" y="398" width="18" height="14" rx="2" fill="none" stroke="#FF9900" stroke-width="1" opacity="0.5"/>
    <rect x="72" y="402" width="10" height="6" rx="1" fill="#FF9900" opacity="0.2"/>
    <text x="94" y="405" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">microsandbox MicroVMs</text>
    <text x="94" y="419" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Isolated Execution Environments</text>

    <!-- Arrakis Snapshots -->
    <rect x="330" y="386" width="240" height="44" rx="6" fill="#161b22" stroke="#FF9900" stroke-width="1" stroke-opacity="0.6"/>
    <path d="M348,400 L360,400 L356,414 L344,414 Z" fill="none" stroke="#FF9900" stroke-width="1" opacity="0.5"/>
    <text x="368" y="405" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Arrakis Snapshots</text>
    <text x="368" y="419" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Checkpoint / Restore States</text>

    <!-- OpenHands Browser -->
    <rect x="590" y="386" width="240" height="44" rx="6" fill="#161b22" stroke="#FF9900" stroke-width="1" stroke-opacity="0.6"/>
    <circle cx="612" cy="408" r="8" fill="none" stroke="#FF9900" stroke-width="1" opacity="0.5"/>
    <circle cx="612" cy="408" r="3" fill="#FF9900" opacity="0.3"/>
    <text x="628" y="405" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">OpenHands Browser</text>
    <text x="628" y="419" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Web Automation / Testing</text>

    <!-- Flow arrows within execution -->
    <path d="M310,408 L326,408" stroke="#FF9900" stroke-width="1" opacity="0.3" marker-end="url(#arrowGray)"/>
    <path d="M570,408 L586,408" stroke="#FF9900" stroke-width="1" opacity="0.3" marker-end="url(#arrowGray)"/>
  </g>

  <!-- Connection lines: Execution to Quality -->
  <line x1="180" y1="430" x2="200" y2="458" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="450" y1="430" x2="450" y2="458" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="710" y1="430" x2="690" y2="458" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>

  <!-- ============================== -->
  <!-- LAYER 5: Quality Gate          -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="450" width="910" height="80" rx="8" fill="url(#greenGrad)" stroke="#00CC66" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="468" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">QUALITY GATE</text>

    <!-- Coach/Player Review -->
    <rect x="50" y="476" width="260" height="44" rx="6" fill="#161b22" stroke="#00CC66" stroke-width="1" stroke-opacity="0.6"/>
    <path d="M68,492 L76,500 L84,488" fill="none" stroke="#00CC66" stroke-width="1.5" opacity="0.6"/>
    <text x="94" y="495" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Coach/Player Review</text>
    <text x="94" y="509" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Dual-Role Code Review</text>

    <!-- Semgrep Scanning -->
    <rect x="330" y="476" width="240" height="44" rx="6" fill="#161b22" stroke="#00CC66" stroke-width="1" stroke-opacity="0.6"/>
    <rect x="348" y="490" width="14" height="14" rx="2" fill="none" stroke="#00CC66" stroke-width="1" opacity="0.5"/>
    <path d="M352,497 L358,497" stroke="#00CC66" stroke-width="1.5" opacity="0.6"/>
    <text x="370" y="495" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Semgrep Scanning</text>
    <text x="370" y="509" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Static Analysis / SAST</text>

    <!-- CrossHair Verification -->
    <rect x="590" y="476" width="240" height="44" rx="6" fill="#161b22" stroke="#00CC66" stroke-width="1" stroke-opacity="0.6"/>
    <circle cx="612" cy="498" r="6" fill="none" stroke="#00CC66" stroke-width="1" opacity="0.5"/>
    <line x1="606" y1="498" x2="618" y2="498" stroke="#00CC66" stroke-width="0.5" opacity="0.5"/>
    <line x1="612" y1="492" x2="612" y2="504" stroke="#00CC66" stroke-width="0.5" opacity="0.5"/>
    <text x="626" y="495" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">CrossHair Verify</text>
    <text x="626" y="509" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Contract Verification</text>
  </g>

  <!-- Connection lines: Quality to Intelligence -->
  <line x1="180" y1="520" x2="200" y2="548" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="450" y1="520" x2="450" y2="548" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>
  <line x1="710" y1="520" x2="690" y2="548" stroke="#30363d" stroke-width="1" marker-end="url(#arrowGray)"/>

  <!-- ============================== -->
  <!-- LAYER 6: Intelligence Layer    -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="540" width="910" height="80" rx="8" fill="url(#purpleGrad)" stroke="#9966FF" stroke-width="1" stroke-opacity="0.4"/>
    <text x="48" y="558" fill="#9966FF" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">INTELLIGENCE LAYER</text>

    <!-- DSPy Optimizer -->
    <rect x="50" y="566" width="260" height="44" rx="6" fill="#161b22" stroke="#9966FF" stroke-width="1" stroke-opacity="0.6"/>
    <path d="M68,580 C72,575 78,590 82,582 C86,575 90,590 94,585" fill="none" stroke="#9966FF" stroke-width="1.2" opacity="0.5"/>
    <text x="104" y="585" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">DSPy Optimizer</text>
    <text x="104" y="599" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Prompt Auto-Tuning</text>

    <!-- Mem0 Graph Memory -->
    <rect x="330" y="566" width="240" height="44" rx="6" fill="#161b22" stroke="#9966FF" stroke-width="1" stroke-opacity="0.6"/>
    <!-- Graph icon -->
    <circle cx="350" cy="583" r="3" fill="#9966FF" opacity="0.4"/>
    <circle cx="362" cy="578" r="3" fill="#9966FF" opacity="0.4"/>
    <circle cx="362" cy="593" r="3" fill="#9966FF" opacity="0.4"/>
    <line x1="352" y1="582" x2="360" y2="579" stroke="#9966FF" stroke-width="0.8" opacity="0.3"/>
    <line x1="352" y1="585" x2="360" y2="591" stroke="#9966FF" stroke-width="0.8" opacity="0.3"/>
    <text x="374" y="585" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Mem0 Graph Memory</text>
    <text x="374" y="599" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Persistent Knowledge Store</text>

    <!-- Inspect AI Evaluator -->
    <rect x="590" y="566" width="240" height="44" rx="6" fill="#161b22" stroke="#9966FF" stroke-width="1" stroke-opacity="0.6"/>
    <rect x="608" y="578" width="16" height="12" rx="1" fill="none" stroke="#9966FF" stroke-width="1" opacity="0.4"/>
    <path d="M611,584 L614,588 L621,580" fill="none" stroke="#9966FF" stroke-width="1" opacity="0.5"/>
    <text x="630" y="585" fill="#ffffff" font-family="'Segoe UI', Arial, sans-serif" font-size="11" font-weight="600">Inspect AI Evaluator</text>
    <text x="630" y="599" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9">Benchmark & Eval Suite</text>
  </g>

  <!-- ============================== -->
  <!-- LAYER 7: Feedback Loop Arrows  -->
  <!-- ============================== -->
  <!-- Intelligence feedback to Orchestration (left side curved arrow) -->
  <path d="M38,588 C10,588 10,200 38,200" fill="none" stroke="#9966FF" stroke-width="1" stroke-dasharray="4,3" stroke-opacity="0.35" marker-end="url(#arrowGray)"/>
  <text x="10" y="395" fill="#9966FF" font-family="'Segoe UI', Arial, sans-serif" font-size="7" transform="rotate(-90, 10, 395)" text-anchor="middle" opacity="0.5">FEEDBACK LOOP</text>

  <!-- ============================== -->
  <!-- OBSERVABILITY SIDE PANEL       -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="960" y="64" width="220" height="556" rx="8" fill="#0d1117" stroke="#30363d" stroke-width="1"/>
    <!-- Header -->
    <rect x="960" y="64" width="220" height="30" rx="8" fill="#161b22"/>
    <rect x="960" y="86" width="220" height="8" fill="#161b22"/>
    <text x="1070" y="84" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="10" font-weight="600" text-anchor="middle" letter-spacing="2">OBSERVABILITY</text>

    <!-- Langfuse Traces -->
    <rect x="975" y="106" width="190" height="110" rx="6" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <text x="990" y="124" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="10" font-weight="700">Langfuse Traces</text>
    <text x="990" y="140" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">LLM call tracing</text>
    <!-- Mini trace visualization -->
    <rect x="990" y="150" width="160" height="4" rx="2" fill="#1c2128"/>
    <rect x="990" y="150" width="120" height="4" rx="2" fill="#00BFFF" opacity="0.3"/>
    <rect x="990" y="158" width="160" height="4" rx="2" fill="#1c2128"/>
    <rect x="990" y="158" width="85" height="4" rx="2" fill="#9966FF" opacity="0.3"/>
    <rect x="990" y="166" width="160" height="4" rx="2" fill="#1c2128"/>
    <rect x="990" y="166" width="140" height="4" rx="2" fill="#00CC66" opacity="0.3"/>
    <rect x="990" y="174" width="160" height="4" rx="2" fill="#1c2128"/>
    <rect x="990" y="174" width="60" height="4" rx="2" fill="#FF9900" opacity="0.3"/>
    <text x="990" y="194" fill="#484f58" font-family="monospace" font-size="7">latency: 234ms  tokens: 1.2k</text>
    <text x="990" y="206" fill="#484f58" font-family="monospace" font-size="7">cost: $0.003  success: 98.7%</text>

    <!-- OpenTelemetry -->
    <rect x="975" y="228" width="190" height="130" rx="6" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <text x="990" y="246" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="10" font-weight="700">OpenTelemetry</text>
    <text x="990" y="262" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Distributed tracing</text>
    <!-- Mini metrics -->
    <g transform="translate(990, 272)">
      <text x="0" y="10" fill="#484f58" font-family="monospace" font-size="7">CPU</text>
      <rect x="30" y="3" width="120" height="8" rx="2" fill="#1c2128"/>
      <rect x="30" y="3" width="45" height="8" rx="2" fill="#00CC66" opacity="0.4"/>
      <text x="155" y="10" fill="#00CC66" font-family="monospace" font-size="7">37%</text>

      <text x="0" y="24" fill="#484f58" font-family="monospace" font-size="7">MEM</text>
      <rect x="30" y="17" width="120" height="8" rx="2" fill="#1c2128"/>
      <rect x="30" y="17" width="78" height="8" rx="2" fill="#FF9900" opacity="0.4"/>
      <text x="155" y="24" fill="#FF9900" font-family="monospace" font-size="7">65%</text>

      <text x="0" y="38" fill="#484f58" font-family="monospace" font-size="7">GPU</text>
      <rect x="30" y="31" width="120" height="8" rx="2" fill="#1c2128"/>
      <rect x="30" y="31" width="96" height="8" rx="2" fill="#9966FF" opacity="0.4"/>
      <text x="155" y="38" fill="#9966FF" font-family="monospace" font-size="7">80%</text>

      <text x="0" y="52" fill="#484f58" font-family="monospace" font-size="7">NET</text>
      <rect x="30" y="45" width="120" height="8" rx="2" fill="#1c2128"/>
      <rect x="30" y="45" width="24" height="8" rx="2" fill="#00BFFF" opacity="0.4"/>
      <text x="155" y="52" fill="#00BFFF" font-family="monospace" font-size="7">20%</text>
    </g>
    <text x="990" y="342" fill="#484f58" font-family="monospace" font-size="7">spans: 847  errors: 2</text>
    <text x="990" y="352" fill="#484f58" font-family="monospace" font-size="7">p99: 1.2s  p50: 180ms</text>

    <!-- PR-Agent Reviews -->
    <rect x="975" y="370" width="190" height="130" rx="6" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <text x="990" y="388" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="10" font-weight="700">PR-Agent Reviews</text>
    <text x="990" y="404" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Automated PR analysis</text>
    <!-- Mini PR status -->
    <g transform="translate(990, 412)">
      <circle cx="6" cy="6" r="4" fill="#00CC66" opacity="0.4"/>
      <text x="16" y="10" fill="#c9d1d9" font-family="monospace" font-size="7">PR #142  Security OK</text>

      <circle cx="6" cy="22" r="4" fill="#FF9900" opacity="0.4"/>
      <text x="16" y="26" fill="#c9d1d9" font-family="monospace" font-size="7">PR #141  2 suggestions</text>

      <circle cx="6" cy="38" r="4" fill="#00CC66" opacity="0.4"/>
      <text x="16" y="42" fill="#c9d1d9" font-family="monospace" font-size="7">PR #140  LGTM</text>

      <circle cx="6" cy="54" r="4" fill="#FF3366" opacity="0.4"/>
      <text x="16" y="58" fill="#c9d1d9" font-family="monospace" font-size="7">PR #139  3 issues</text>

      <circle cx="6" cy="70" r="4" fill="#00CC66" opacity="0.4"/>
      <text x="16" y="74" fill="#c9d1d9" font-family="monospace" font-size="7">PR #138  Auto-merged</text>
    </g>

    <!-- Connection dots from main area to observability -->
    <circle cx="960" cy="112" r="2" fill="#30363d"/>
    <circle cx="960" cy="200" r="2" fill="#30363d"/>
    <circle cx="960" cy="303" r="2" fill="#30363d"/>
    <circle cx="960" cy="408" r="2" fill="#30363d"/>
    <circle cx="960" cy="498" r="2" fill="#30363d"/>
    <circle cx="960" cy="588" r="2" fill="#30363d"/>
    <!-- Horizontal connector lines -->
    <line x1="940" y1="112" x2="960" y2="112" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="940" y1="200" x2="960" y2="200" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="940" y1="303" x2="960" y2="303" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="940" y1="408" x2="960" y2="408" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="940" y1="498" x2="960" y2="498" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
    <line x1="940" y1="588" x2="960" y2="588" stroke="#30363d" stroke-width="1" stroke-dasharray="2,2"/>
  </g>

  <!-- ============================== -->
  <!-- RESOURCE COORDINATOR BAR       -->
  <!-- ============================== -->
  <g filter="url(#shadow)">
    <rect x="30" y="636" width="1150" height="40" rx="6" fill="#161b22" stroke="#30363d" stroke-width="1"/>
    <text x="50" y="660" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="9" font-weight="600" letter-spacing="2">RESOURCE COORDINATOR</text>
    <!-- Status badges -->
    <rect x="240" y="646" width="80" height="20" rx="10" fill="#00CC66" opacity="0.15" stroke="#00CC66" stroke-width="0.5"/>
    <text x="280" y="660" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">16 BRIDGES</text>

    <rect x="335" y="646" width="80" height="20" rx="10" fill="#00BFFF" opacity="0.15" stroke="#00BFFF" stroke-width="0.5"/>
    <text x="375" y="660" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">INIT LOCKS</text>

    <rect x="430" y="646" width="90" height="20" rx="10" fill="#9966FF" opacity="0.15" stroke="#9966FF" stroke-width="0.5"/>
    <text x="475" y="660" fill="#9966FF" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">ASYNC GUARD</text>

    <rect x="535" y="646" width="100" height="20" rx="10" fill="#FF9900" opacity="0.15" stroke="#FF9900" stroke-width="0.5"/>
    <text x="585" y="660" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">ENV SEMAPHORE</text>

    <rect x="650" y="646" width="100" height="20" rx="10" fill="#FF3366" opacity="0.15" stroke="#FF3366" stroke-width="0.5"/>
    <text x="700" y="660" fill="#FF3366" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">ATOMIC WRITES</text>

    <rect x="765" y="646" width="90" height="20" rx="10" fill="#00CC66" opacity="0.15" stroke="#00CC66" stroke-width="0.5"/>
    <text x="810" y="660" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" text-anchor="middle">GOVERNANCE</text>
  </g>

  <!-- ============================== -->
  <!-- LEGEND                          -->
  <!-- ============================== -->
  <g transform="translate(30, 695)">
    <text x="0" y="12" fill="#484f58" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="600" letter-spacing="1">LEGEND</text>
    <!-- Blue -->
    <rect x="70" y="3" width="10" height="10" rx="2" fill="#00BFFF" opacity="0.5"/>
    <text x="84" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Core / Agents</text>
    <!-- Purple -->
    <rect x="170" y="3" width="10" height="10" rx="2" fill="#9966FF" opacity="0.5"/>
    <text x="184" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Intelligence</text>
    <!-- Orange -->
    <rect x="260" y="3" width="10" height="10" rx="2" fill="#FF9900" opacity="0.5"/>
    <text x="274" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Execution</text>
    <!-- Green -->
    <rect x="340" y="3" width="10" height="10" rx="2" fill="#00CC66" opacity="0.5"/>
    <text x="354" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Quality</text>
    <!-- Pink -->
    <rect x="410" y="3" width="10" height="10" rx="2" fill="#FF3366" opacity="0.5"/>
    <text x="424" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Interface</text>
    <!-- Dashed = data flow -->
    <line x1="500" y1="8" x2="530" y2="8" stroke="#30363d" stroke-width="1" stroke-dasharray="3,3"/>
    <text x="536" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Data Flow</text>
    <!-- Solid = control -->
    <line x1="610" y1="8" x2="640" y2="8" stroke="#30363d" stroke-width="1"/>
    <text x="646" y="12" fill="#8b949e" font-family="'Segoe UI', Arial, sans-serif" font-size="8">Control Flow</text>
  </g>

  <!-- ============================== -->
  <!-- DATA FLOW INDICATORS           -->
  <!-- ============================== -->
  <!-- Vertical flow label on right edge of main area -->
  <text x="948" y="400" fill="#30363d" font-family="'Segoe UI', Arial, sans-serif" font-size="7" transform="rotate(-90, 948, 400)" text-anchor="middle" letter-spacing="2">REQUEST FLOW</text>

  <!-- ============================== -->
  <!-- FOOTER / VERSION               -->
  <!-- ============================== -->
  <text x="1170" y="790" fill="#30363d" font-family="'Segoe UI', Arial, sans-serif" font-size="8" text-anchor="end">Super-Goose v6.0  |  Stage 6 Architecture  |  16-Tool Governance</text>
  <text x="30" y="790" fill="#30363d" font-family="'Segoe UI', Arial, sans-serif" font-size="8">github.com/Ghenghis/Super-Goose</text>

  <!-- ============================== -->
  <!-- LAYER NUMBER BADGES            -->
  <!-- ============================== -->
  <g>
    <circle cx="940" cy="75" r="8" fill="#FF3366" opacity="0.2" stroke="#FF3366" stroke-width="0.5"/>
    <text x="940" y="79" fill="#FF3366" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">1</text>

    <circle cx="940" cy="163" r="8" fill="#00BFFF" opacity="0.2" stroke="#00BFFF" stroke-width="0.5"/>
    <text x="940" y="167" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">2</text>

    <circle cx="940" cy="251" r="8" fill="#00BFFF" opacity="0.2" stroke="#00BFFF" stroke-width="0.5"/>
    <text x="940" y="255" fill="#00BFFF" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">3</text>

    <circle cx="940" cy="371" r="8" fill="#FF9900" opacity="0.2" stroke="#FF9900" stroke-width="0.5"/>
    <text x="940" y="375" fill="#FF9900" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">4</text>

    <circle cx="940" cy="461" r="8" fill="#00CC66" opacity="0.2" stroke="#00CC66" stroke-width="0.5"/>
    <text x="940" y="465" fill="#00CC66" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">5</text>

    <circle cx="940" cy="551" r="8" fill="#9966FF" opacity="0.2" stroke="#9966FF" stroke-width="0.5"/>
    <text x="940" y="555" fill="#9966FF" font-family="'Segoe UI', Arial, sans-serif" font-size="8" font-weight="700" text-anchor="middle">6</text>
  </g>
</svg>